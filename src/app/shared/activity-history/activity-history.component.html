<section class="activity-history">
    <header [class.ios-mode]="this.platform.is('ios')">
        <div class="back-btn-container" (click)="onBackPressed()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.721 22.938">
                <defs>
                    <style>
                        .chevron {
                            fill: #fff;
                            stroke: #6f6f6f;
                            stroke-linecap: round;
                            stroke-width: 3.5px
                        }
                    </style>
                </defs>
                <path id="left_chevron"
                      d="M-2888.028-952.029l-1.276 1.208 1.276-1.208L-2898-962l9.972 9.972L-2877.5-962l-10.525 9.972 1.208 1.208z"
                      class="chevron" data-name="left chevron" transform="rotate(90 -1924.394 974.844)"/>
            </svg>
        </div>
        <h1 class="title"> Training History</h1>
        <button class="menuBtn" mat-button [matMenuTriggerFor]="menu" style="">
            <span>â‹®</span>
        </button>
        <mat-menu #menu="matMenu">
            <button mat-menu-item>Item 1</button>
            <button mat-menu-item>Item 2</button>
        </mat-menu>
    </header>
    <div class="train-line">
        <div class="right-side-and-train-info-container">
            <div class="right-side">
                <div class="circle"></div>
                <hr>
                <hr>
                <hr>
            </div>
            <div class="train-info">
                <p><span class="date">{{beutifiedDate}}</span>, <span class="day">{{currentDay}}</span></p>
                <p class="light-text"> {{numOfTrainings}} Drills</p>
            </div>
        </div>
    </div>
    <div class="activity-history-container">
        <div class="history-card" *ngFor="let drill of drills; let i = index">
            <div class="right-line">

            </div>
            <div class="info-wrapper">
                <div class="title">
                    <div class="img-container" [ngSwitch]="drill.drillType">
                        <img *ngSwitchCase="'Zero'" src="../../assets/images/bullseye_black.png">
                        <img *ngSwitchCase="'Hostage'" src="../../assets/images/conv_a_bullseye_head.png">
                    </div>
                    <div>
                        <p>Drill {{i + 1}}</p>
                        <span>{{drill.points}} Points</span>
                    </div>
                </div>
                <div class="stats">
                    <div class="hits">
                        <div><h1>{{drill.shotItems.length}}</h1>/<h2>{{drill.numberOfBullets}}</h2></div>
                        <span class="hint">HITS</span>
                    </div>
                    <div class="range">
                        <h1 class="meter">{{drill.range}}</h1>
                        <span class="hint">RANGE</span>
                    </div>
                </div>
                <hr style="height: 1px;width: 40%;background: #cdcdcd;">

                <mat-accordion *ngIf="drill &&  drill.drillType">
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                + See your stats
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="stats-container">
                            <div class="header-wrapper">
                                <p class="title">Bullets</p>
                                <p class="title">Time</p>
                                <p class="title">Split</p>
                            </div>
                            <div class="details" *ngFor="let stat of drill.shotItems">
                                <div class="box">
                                    <p>{{stat.shotNumber}}</p>
                                </div>
                                <div class="box">
                                    <p>
                                        {{stat.time}}
                                    </p>
                                </div>
                                <div class="box">
                                    <p>{{stat.timeSplit}}</p>
                                </div>
                            </div>
                            <div class="divider">
                                <hr>
                            </div>
<!--                            <div class="summmaryRow" *ngIf="drill.summaryObject">-->
<!--                                <div class="box">-->
<!--                                    <p>{{drill.summaryObject.counter}}</p>-->
<!--                                </div>-->

<!--                                <div class="box">-->
<!--                                    <p>{{drill.summaryObject.distanceFromCenter | number : '1.2-2'}}</p>-->
<!--                                </div>-->

<!--                                <div class="box">-->
<!--                                    <p>-->
<!--                                        {{drill.summaryObject.totalTime}}-->
<!--                                    </p>-->
<!--                                </div>-->

<!--                                <div class="box">-->
<!--                                    <p>{{drill.summaryObject.split}}</p>-->
<!--                                </div>-->

<!--                                <div class="box">-->
<!--                                    <p>{{drill.summaryObject.points | number : '1.2-2'}}</p>-->
<!--                                </div>-->
<!--                            </div>-->
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>

            </div>
        </div>
    </div>
</section>
